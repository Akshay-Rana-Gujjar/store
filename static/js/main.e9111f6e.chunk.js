(this["webpackJsonponline-store"]=this["webpackJsonponline-store"]||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var n=c(6),s=c.n(n),i=c(34),r=c.n(i),a=(c(40),c(41),c(42),c(19)),o=c(11),l=c(14),d=c(12),j="category",b=c(35),u=Object(b.a)({apiKey:"AIzaSyC8fS_63_NkbEUffRHoDn_vbsGae1SDnQI",authDomain:"akshay-store.firebaseapp.com",projectId:"akshay-store",storageBucket:"akshay-store.appspot.com",messagingSenderId:"679889779214",appId:"1:679889779214:web:8f3d6ec62b4ff123701a5f"}),m=c(20),x=c(3),O=Object(n.createContext)(null);function h(e){var t=e.children,c={app:u,firestore:Object(m.c)()};return Object(x.jsx)(O.Provider,{value:c,children:t})}c(46);function v(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],s=t[1],i=Object(n.useContext)(O).firestore;function r(e){var t=e.category,c=void 0===t?{}:t,n=e.onClick,s=void 0===n?null:n;return Object(x.jsx)(a.b,{to:"/category/".concat(c.id),children:Object(x.jsxs)("div",{className:"category-item position-relative p-0 text-white border1 border-light1 rounded-3 mb-3 card shadow bg-category overflow-hidden",onClick:s,children:[Object(x.jsx)("img",{src:c.img,alt:"",srcset:"",className:"category-item-img"}),Object(x.jsx)("div",{className:"h3 position-absolute ps-2 w-100 category-item-name text-g-reen mb-0 py-3",children:c.name})]})})}return Object(n.useEffect)((function(){console.log(i);var e=Object(m.d)(Object(m.a)(i,j));Object(m.b)(e).then((function(e){var t=[];e.forEach((function(e){var c=Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id});t.push(c)})),s(t)}))}),[]),Object(x.jsx)("div",{className:"",children:Object(x.jsxs)("div",{className:"home-category-container container p-3 position-relative bg-white",children:[Object(x.jsx)("div",{className:"h2 text-green",children:"Categories"}),Object(x.jsxs)("div",{className:"category-item-container",children:[0===c.length&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"category-skeleton category-item position-relative p-0 text-white border1 border-light1 rounded-3 mb-3 card shadow bg-category overflow-hidden"})}),c.map((function(e){return Object(x.jsx)(r,{category:e})}))]})]})})}var g=c(26),f=c(9),p=Object(n.createContext)(null);function N(e){var t=e.children,c=Object(n.useState)(localStorage.getItem("cart")&&JSON.parse(localStorage.getItem("cart"))||{}),s=Object(d.a)(c,2),i=s[0],r=s[1];return Object(x.jsx)(p.Provider,{value:{cart:i,setCart:function(e){var t=null;if("function"===typeof e)r((function(c){t=e(c);var n=JSON.stringify(t);return localStorage.setItem("cart",n),t}));else{t=e;var c=JSON.stringify(t);localStorage.setItem("cart",c)}}},children:t})}var w=function(){var e=Object(n.useContext)(p),t=e.cart,c=e.setCart;return function(e){var n=t[e];n.cartCount++,c((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(f.a)({},e,n))}))}},y=function(){var e=Object(n.useContext)(p),t=e.cart,c=e.setCart;return function(e){var n=t[e];n.cartCount--,c((function(t){return n.cartCount?Object(l.a)(Object(l.a)({},t),{},Object(f.a)({},e,n)):(delete t[e],Object(l.a)({},t))}))}},C=function(){return Object(n.useContext)(p).cart};c(47);function k(){var e=Object(o.g)().id,t=Object(n.useContext)(O).firestore,c=Object(n.useState)([]),s=Object(d.a)(c,2),i=s[0],r=s[1],a=C();function b(e){var t=e.product,c=e.className,s=function(){var e=Object(n.useContext)(p).setCart;return function(t,c){c.cartCount=1,e((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(f.a)({},t,c))}))}}(),i=w(),r=y(),o=a&&a[t.id]&&a[t.id].cartCount;return Object(x.jsxs)("div",{className:"".concat(c),children:[Object(x.jsx)("img",{src:t.img,alt:"",className:"product-img img-fluid"}),Object(x.jsx)("div",{className:"product-name h5",children:t.name}),Object(x.jsx)("div",{className:"product-unit text-muted small",children:t.unit}),Object(x.jsxs)("div",{className:"d-flex justify-content-between1 align-items-baseline",children:[(null===t||void 0===t?void 0:t.price)&&Object(x.jsxs)("div",{className:"product-price text-green fw-bold "+(t.discountedPrice&&"text-decoration-line-through small"),children:[t.currencySymbol,t.price]}),(null===t||void 0===t?void 0:t.discountedPrice)&&Object(x.jsxs)("div",{className:"text-green fw-bold ms-1",children:[t.currencySymbol,t.discountedPrice]})]}),o?Object(x.jsxs)("div",{className:"d-flex text-white align-items-center justify-content-between",children:[Object(x.jsx)("div",{className:"item-cart-icon text-center bg-green rounded-circle p-1 shadow",onClick:function(){return r(t.id)},children:"-"}),Object(x.jsx)("div",{className:"text-green",children:o}),Object(x.jsx)("div",{className:"bg-green item-cart-icon text-center rounded-circle p-1 shadow",onClick:function(){return i(t.id)},children:"+"})]}):Object(x.jsx)("div",{className:"bg-green p-1 text-center text-white rounded shadow",onClick:function(){return s(t.id,t)},children:"Add"})]})}return Object(n.useEffect)((function(){var c=Object(g.d)(Object(g.a)(t,"".concat(j,"/").concat(e,"/").concat("product")));Object(g.b)(c).then((function(e){var t=[];e.forEach((function(e){var c=Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id});t.push(c)})),r(t)}))}),[]),Object(x.jsx)("div",{className:" category-page-container p-3 position-relative bg-light",children:Object(x.jsxs)("div",{className:"row container-fluid1 mx-1",children:[0===i.length&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-skeleton col-6 border shadow-sm p-3 py-2 card rounded-0"}),Object(x.jsx)("div",{className:"product-skeleton col-6 border shadow-sm p-3 py-2 card rounded-0"})]}),i.map((function(e){return Object(x.jsx)(b,{className:"col-6 border border-light shadow-sm p-3 py-2 card rounded-0",product:e})}))]})})}c(48);var L=function(){return Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(x.jsx)("path",{d:"M 10 5.3417969 C 9.744125 5.3417969 9.4879688 5.4412187 9.2929688 5.6367188 L 3.6367188 11.292969 C 3.2457187 11.683969 3.2457187 12.317031 3.6367188 12.707031 L 9.2929688 18.363281 C 9.6839688 18.754281 10.317031 18.754281 10.707031 18.363281 L 10.792969 18.277344 C 11.183969 17.886344 11.183969 17.253281 10.792969 16.863281 L 6.9296875 13 L 20 13 C 20.552 13 21 12.552 21 12 C 21 11.448 20.552 11 20 11 L 6.9296875 11 L 10.792969 7.1367188 C 11.183969 6.7457187 11.183969 6.1126563 10.792969 5.7226562 L 10.707031 5.6367188 C 10.511531 5.4412187 10.255875 5.3417969 10 5.3417969 z"})})},S=function(){return Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:Object(x.jsx)("path",{d:"M24,4C14.626,4,7,11.626,7,21c0,4.036,1.449,7.953,4.093,11.048c0.302,0.343,7.427,8.439,9.807,10.708\tC21.769,43.585,22.884,44,24,44s2.231-0.415,3.101-1.244c2.767-2.639,9.524-10.385,9.82-10.725C39.551,28.953,41,25.036,41,21\tC41,11.626,33.374,4,24,4z M24,26c-2.761,0-5-2.239-5-5s2.239-5,5-5s5,2.239,5,5S26.761,26,24,26z"})})},I=function(){return Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(x.jsx)("path",{d:"M20.023,15.488c-0.63-0.015-1.423-0.052-1.924-0.14c-0.542-0.096-1.194-0.282-1.653-0.425c-0.36-0.112-0.752-0.013-1.019,0.253L13.21,17.38c-1.532-0.807-2.759-1.747-3.798-2.792c-1.045-1.039-1.985-2.266-2.792-3.798l2.204-2.218C9.09,8.305,9.189,7.913,9.077,7.553C8.935,7.095,8.748,6.443,8.653,5.901C8.564,5.4,8.528,4.607,8.512,3.977C8.499,3.432,8.055,3,7.51,3H4C3.562,3,3,3.328,3,4c0,4.539,1.84,8.874,4.966,12.034C11.126,19.16,15.461,21,20,21c0.672,0,1-0.562,1-1v-3.51C21,15.945,20.568,15.501,20.023,15.488z"})})},P=function(){return Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(x.jsx)("path",{d:"M 4.4140625 1.9960938 L 1.0039062 2.0136719 L 1.0136719 4.0136719 L 3.0839844 4.0039062 L 6.3789062 11.908203 L 5.1816406 13.824219 C 4.7816406 14.464219 4.7609531 15.272641 5.1269531 15.931641 C 5.4929531 16.590641 6.1874063 17 6.9414062 17 L 19 17 L 19 15 L 6.9414062 15 L 6.8769531 14.882812 L 8.0527344 13 L 15.521484 13 C 16.248484 13 16.917531 12.604703 17.269531 11.970703 L 20.873047 5.4863281 C 21.046047 5.1763281 21.041328 4.7981875 20.861328 4.4921875 C 20.681328 4.1871875 20.352047 4 19.998047 4 L 5.25 4 L 4.4140625 1.9960938 z M 6.0820312 6 L 18.298828 6 L 15.521484 11 L 8.1660156 11 L 6.0820312 6 z M 7 18 A 2 2 0 0 0 5 20 A 2 2 0 0 0 7 22 A 2 2 0 0 0 9 20 A 2 2 0 0 0 7 18 z M 17 18 A 2 2 0 0 0 15 20 A 2 2 0 0 0 17 22 A 2 2 0 0 0 19 20 A 2 2 0 0 0 17 18 z"})})};function A(){var e=C(),t=w(),c=y(),s=function(){var e=Object(n.useContext)(p).setCart;return function(){e((function(){return null}))}}(),i=JSON.parse(localStorage.getItem("store")||null)||{},r=Object(n.useState)(!1),o=Object(d.a)(r,2),l=o[0],j=o[1];return e&&0!==Object.keys(e).length?Object(x.jsxs)("div",{className:"",children:[Object(x.jsxs)("div",{className:"mb-2 pt-4 d-flex align-items-center flex-column w-100",children:[Object(x.jsxs)("div",{className:"text-muted h3",children:["Delivering ",Object.keys(e).length," item(s)"]}),Object(x.jsx)("div",{className:"ms-3 text-danger align-self-end me-1 small",onClick:s,children:"empty cart"})]}),Object.keys(e).map((function(n){var s=e[n];return Object(x.jsx)("div",{className:"card w-100 border-top-0 border-start-0 border-end-0 border-bottom",children:Object(x.jsxs)("div",{className:"row g-0",children:[Object(x.jsx)("div",{className:"col-4",children:Object(x.jsx)("img",{src:s.img,className:"img-fluid",alt:"",srcset:""})}),Object(x.jsx)("div",{className:"col-8",children:Object(x.jsxs)("div",{className:"card-body position-relative",children:[Object(x.jsx)("div",{className:"text-black display-6",children:s.name}),Object(x.jsxs)("div",{className:"d-flex fs-5",children:[Object(x.jsxs)("div",{className:"fw-bold",children:[s.currencySymbol,s.discountedPrice||s.price]}),s.discountedPrice&&Object(x.jsxs)("div",{className:"text-decoration-line-through ms-2 text-muted",children:[s.currencySymbol,s.price]})]}),Object(x.jsx)("div",{className:"text-muted",children:s.unit}),Object(x.jsx)("div",{className:"position-absolute end-0 bottom-0 mb-2 me-2",children:Object(x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(x.jsx)("div",{onClick:function(){return c(s.id)},className:"bg-green text-white rounded-circle shadow d-flex justify-content-center align-items-center cart-item-button",children:"-"}),Object(x.jsx)("div",{className:"mx-2",children:s.cartCount}),Object(x.jsx)("div",{onClick:function(){return t(s.id)},className:"bg-green text-white rounded-circle shadow d-flex justify-content-center align-items-center cart-item-button",children:"+"})]})})]})})]})})})),Object(x.jsx)("div",{className:"mb-5 p-2 small text-center fst-italic",children:"have a great day!"}),Object(x.jsxs)("div",{onClick:function(){j(!0);var t=i.lineId,c=i.currencySymbol,n=0,s="Hello I want to order:\n\t\t".concat(Object.keys(e).map((function(t){var c=e[t];isNaN(Number(c.discountedPrice||c.price))||isNaN(c.cartCount)||(n+=Number(c.discountedPrice||c.price)*c.cartCount);var s=c.cartCount||"",i=c.name||"",r=c.unit||"";return"".concat(s," ").concat(i," (").concat(r,") \n")})),"\n\t\t");n>0&&(s+="Total Bill: "+c+n);var r="https://line.me/R/oaMessage/@".concat(t,"/?").concat(encodeURI(s));window.open(r,"_blank"),setTimeout((function(){return j(!1)}),1e4)},className:"position-fixed bottom-0 w-100 bg-green p-2 text-white h3 mb-0 d-flex justify-content-center align-items-center",children:[Object(x.jsxs)("div",{className:"fw-light d-flex align-items-center",children:[Object(x.jsxs)("div",{className:"order-btn-sub-detail text-center m-1",children:[Object.keys(e).length," item(s)"]}),Object(x.jsx)("div",{className:"",children:"Order on LINE"})]}),Object(x.jsx)("div",{className:"next-icon d-flex align-items-center",children:Object(x.jsx)(L,{})})]}),l&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"position-fixed start-0 top-0 end-0 bottom-0 bg-black d-flex justify-content-center align-items-center",style:{"--bs-bg-opacity":.5,zIndex:21},children:Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"d-flex align-items-center",children:[Object(x.jsx)("div",{class:"spinner-border text-success",role:"status",children:Object(x.jsx)("span",{class:"visually-hidden",children:"Loading..."})}),Object(x.jsx)("div",{className:"fw-bold ms-2",children:"Opening Line App..."})]})})})})})]}):Object(x.jsxs)("div",{className:"position-absolute  text-center top-50 start-50 translate-middle",children:[Object(x.jsx)("h4",{className:"text-secondary small text-nowrap ",children:"you don't have anything in your cart"}),Object(x.jsx)(a.b,{className:"bg-green text-white btn shadow btn-block w-75",to:"/",children:"start shopping"})]})}c(49);function z(){var e=Object(o.f)();return Object(x.jsx)("div",{className:"position-fixed shadow rounded-circle bg-white p-2 back-button-container m-3",role:"button",onClick:function(){return e(-1)},children:Object(x.jsx)(L,{})})}function M(e){var t=e.hideOnPaths,c=void 0===t?[]:t,n=e.children,s=void 0===n?null:n,i=Object(o.e)();return c.includes(i.pathname)?null:s}c(50);function E(){var e=Object(n.useRef)(Object(m.c)()).current,t=Object(n.useState)({}),c=Object(d.a)(t,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){var t=Object(m.a)(e,"store");Object(m.b)(t).then((function(e){if(console.log(e.docs[0]),!e.empty){var t=e.docs[0],c=Object(l.a)(Object(l.a)({},t.data()),{},{id:t.id});console.log(c),localStorage.setItem("store",JSON.stringify(c)),(null===c||void 0===c?void 0:c.favIcon)&&function(e){var t=document.head.querySelector("link[rel='icon']");t&&(t.href=e)}(null===c||void 0===c?void 0:c.favIcon),i(c)}}))}),[]),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"bg-green px-3 pb-4 pt-2 d-flex align-items-center flex-column position-relative text-white h3 overflow-hidden",children:[Object(x.jsx)("span",{className:"green-circle position-absolute top-0 start-0 translate-middle rounded-circle p-5"}),Object(x.jsx)("span",{className:"green-circle position-absolute top-100 start-100 translate-middle rounded-circle p-5"}),(null===s||void 0===s?void 0:s.logo)?Object(x.jsx)("div",{className:"mb-2",children:Object(x.jsx)("img",{src:s.logo,alt:"",className:"img-fluid store-logo"})}):Object(x.jsx)("div",{className:"store-logo"}),Object(x.jsx)("div",{className:"mb-2 "+(!(null===s||void 0===s?void 0:s.name)&&"text-skeleton-heading rounded w-50"),children:null===s||void 0===s?void 0:s.name}),Object(x.jsxs)("div",{className:"small store-location text-green mb-1 d-flex justify-content-center align-items-center w-100",children:[Object(x.jsx)(S,{}),Object(x.jsx)("div",{className:!(null===s||void 0===s?void 0:s.address)&&"text-skeleton-small w-50 rounded",children:null===s||void 0===s?void 0:s.address})]}),Object(x.jsxs)("div",{className:"small store-location text-green  d-flex justify-content-center align-items-center w-100",children:[Object(x.jsx)(I,{}),Object(x.jsx)("div",{className:!(null===s||void 0===s?void 0:s.phone)&&"text-skeleton-small w-25 rounded",children:null===s||void 0===s?void 0:s.phone})]})]})})}c(51);function B(){var e=C();return Object(x.jsx)(a.b,{to:"/cart",children:Object(x.jsxs)("div",{className:"cart-container shadow position-fixed bg-white m-3 rounded-circle p-2 end-0",children:[Object(x.jsx)("div",{className:"cart-icon",children:Object(x.jsx)(P,{})}),Object(x.jsx)("div",{className:"cart-count d-flex justify-content-center align-items-center position-absolute bg-danger top-0 start-1001 end-0  translate-middle1 rounded-circle p-1 small text-white",children:e&&Object.keys(e).length||"0"})]})})}var J=function(){return Object(x.jsx)(N,{children:Object(x.jsx)(h,{children:Object(x.jsx)("div",{className:"app-body",children:Object(x.jsxs)(a.a,{children:[Object(x.jsx)(M,{hideOnPaths:["/"],children:Object(x.jsx)(z,{})}),Object(x.jsxs)(M,{hideOnPaths:["/cart"],children:[Object(x.jsx)(B,{}),Object(x.jsx)(E,{})]}),Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{path:"/",element:Object(x.jsx)(v,{})}),Object(x.jsx)(o.a,{path:"/category/:id",element:Object(x.jsx)(k,{})}),Object(x.jsx)(o.a,{path:"/cart",element:Object(x.jsx)(A,{})})]})]})})})})};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(J,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.e9111f6e.chunk.js.map